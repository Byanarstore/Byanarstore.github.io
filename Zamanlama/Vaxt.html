<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kahve Fincanı Zamanlayıcı</title>
  <style>
    :root{
      --bg:#0f172a;
      --coffee1:#d7a86e;
      --coffee2:#8b5a2b;
      --coffee3:#5a2e0d;
      --cup:#f3f4f6;
      --text:#e5e7eb;
      --accent:#c084fc;
      --green:#22c55e;
      --blue:#3b82f6;
      --red:#ef4444;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      background: var(--bg);
      color: var(--text);
      font-family: Inter, Arial, sans-serif;
      height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      text-align:center;
    }
    .cup{
      position:relative;
      width:200px; height:220px;
    }
    .cup-body{
      position:absolute; left:0; top:0;
      width:180px; height:210px;
      border:10px solid var(--cup);
      border-bottom-width:16px;
      border-radius:18px 18px 28px 28px;
      background:rgba(255,255,255,0.05);
      overflow:hidden;
    }
    .coffee{
      position:absolute; left:10px; right:10px; bottom:16px;
      height:100%;
      background:linear-gradient(180deg,var(--coffee1),var(--coffee2) 55%,var(--coffee3));
      border-radius:10px 10px 18px 18px;
      transition:height 0.3s ease;
    }
    .handle{
      position:absolute; left:180px; top:50%;
      transform:translateY(-50%);
      width:60px; height:90px;
      border:10px solid var(--cup);
      border-left:none;
      border-radius:0 50px 50px 0;
      background:rgba(255,255,255,0.05);
    }
    .display{
      margin-top:30px;
      font-size:48px;
      font-weight:700;
      letter-spacing:1px;
      color:var(--accent);
    }
    .buttons{
      margin-top:20px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
    }
    button{
      padding:10px 16px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.2);
      background:rgba(255,255,255,0.08);
      color:var(--text);
      font-weight:600;
      cursor:pointer;
      transition:0.2s;
    }
    button:hover{background:rgba(255,255,255,0.15)}
    .start{border-color:var(--green)}
    .pause{border-color:var(--blue)}
    .reset{border-color:var(--red)}
    @media(max-width:600px){
      .cup{width:150px;height:170px}
      .cup-body{width:130px;height:160px}
      .handle{width:40px;height:70px;left:130px}
      .display{font-size:32px}
    }
  </style>
</head>
<body>
  <div class="cup">
    <div class="cup-body">
      <div class="coffee" id="coffee"></div>
    </div>
    <div class="handle"></div>
  </div>
  <div class="display" id="display">25:00</div>
  <div class="buttons">
    <button class="start" id="startWork">İşə başla</button>
    <button class="pause" id="pause">Durdur</button>
    <button class="pause" id="resume">Davam et</button>
    <button class="reset" id="reset">Sıfırla</button>
  </div>

  <audio id="ding" preload="auto">
    <source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" type="audio/ogg">
  </audio>

  <script>
    let workMs = 25*60*1000; // 25 dəqiqə
    let breakMs = 5*60*1000; // 5 dəqiqə
    let totalMs = workMs;
    let remainingMs = totalMs;
    let phase = 'idle'; // idle | work | break
    let timer = null;
    const coffeeEl = document.getElementById('coffee');
    const displayEl = document.getElementById('display');
    const dingEl = document.getElementById('ding');

    function fmt(ms){
      const t = Math.max(0,Math.round(ms/1000));
      const m = Math.floor(t/60);
      const s = t%60;
      return `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
    }
    function update(){
      let pct;
      if(phase==='work'){
        pct = (remainingMs/totalMs)*100;
      }else if(phase==='break'){
        pct = (1-remainingMs/totalMs)*100;
      }else{
        pct = 100;
      }
      coffeeEl.style.height = pct+"%";
      displayEl.textContent = fmt(remainingMs);
    }
    function tick(){
      remainingMs -= 1000;
      if(remainingMs<=0){
        clearInterval(timer);
        dingEl.play();
        if(phase==='work'){
          phase='break';
          totalMs=breakMs;
          remainingMs=totalMs;
          timer=setInterval(tick,1000);
        }else{
          phase='idle';
          totalMs=workMs;
          remainingMs=totalMs;
        }
      }
      update();
    }
    document.getElementById('startWork').onclick=()=>{
      clearInterval(timer);
      phase='work';
      totalMs=workMs;
      remainingMs=totalMs;
      timer=setInterval(tick,1000);
      update();
    };
    document.getElementById('pause').onclick=()=>{clearInterval(timer)};
    document.getElementById('resume').onclick=()=>{
      if(phase!=='idle') timer=setInterval(tick,1000);
    };
    document.getElementById('reset').onclick=()=>{
      clearInterval(timer);
      phase='idle';
      totalMs=workMs;
      remainingMs=totalMs;
      update();
    };
    update();
  </script>
</body>
</html>
